(function(){function c(){}var a=c.prototype,d=this,e=d.EventEmitter;function f(b,c){for(var a=b.length;a--;)if(b[a].listener===c)return a;return -1}function b(a){return function(){return this[a].apply(this,arguments)}}a.getListeners=function(c){var d,a,b=this._getEvents();if("object"==typeof c)for(a in d={},b)b.hasOwnProperty(a)&&c.test(a)&&(d[a]=b[a]);else d=b[c]||(b[c]=[]);return d},a.flattenListeners=function(b){var a,c=[];for(a=0;a<b.length;a+=1)c.push(b[a].listener);return c},a.getListenersAsObject=function(b){var c,a=this.getListeners(b);return a instanceof Array&&((c={})[b]=a),c||a},a.addListener=function(d,a){var b,c=this.getListenersAsObject(d),e="object"==typeof a;for(b in c)c.hasOwnProperty(b)&& -1===f(c[b],a)&&c[b].push(e?a:{listener:a,once:!1});return this},a.on=b("addListener"),a.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},a.once=b("addOnceListener"),a.defineEvent=function(a){return this.getListeners(a),this},a.defineEvents=function(b){for(var a=0;a<b.length;a+=1)this.defineEvent(b[a]);return this},a.removeListener=function(d,e){var c,a,b=this.getListenersAsObject(d);for(a in b)b.hasOwnProperty(a)&& -1!==(c=f(b[a],e))&&b[a].splice(c,1);return this},a.off=b("removeListener"),a.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},a.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},a.manipulateListeners=function(d,b,e){var a,c,f=d?this.removeListener:this.addListener,g=d?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(a=e.length;a--;)f.call(this,b,e[a]);else for(a in b)b.hasOwnProperty(a)&&(c=b[a])&&("function"==typeof c?f.call(this,a,c):g.call(this,a,c));return this},a.removeEvent=function(c){var a,d=typeof c,b=this._getEvents();if("string"===d)delete b[c];else if("object"===d)for(a in b)b.hasOwnProperty(a)&&c.test(a)&&delete b[a];else delete this._events;return this},a.removeAllListeners=b("removeEvent"),a.emitEvent=function(d,f){var a,e,b,c=this.getListenersAsObject(d);for(b in c)if(c.hasOwnProperty(b))for(e=c[b].length;e--;)!0===(a=c[b][e]).once&&this.removeListener(d,a.listener),a.listener.apply(this,f||[])===this._getOnceReturnValue()&&this.removeListener(d,a.listener);return this},a.trigger=b("emitEvent"),a.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},a.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},a._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},a._getEvents=function(){return this._events||(this._events={})},c.noConflict=function(){return d.EventEmitter=e,c},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return c}):"object"==typeof module&&module.exports?module.exports=c:this.EventEmitter=c}).call(this),/*!
 * eventie v1.0.4
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 */ function(e){var a=document.documentElement,b=function(){};function f(b){var a=e.event;return a.target=a.target||a.srcElement||b,a}a.addEventListener?b=function(a,b,c){a.addEventListener(b,c,!1)}:a.attachEvent&&(b=function(a,b,c){a[b+c]=c.handleEvent?function(){var b=f(a);c.handleEvent.call(c,b)}:function(){var b=f(a);c.call(a,b)},a.attachEvent("on"+b,a[b+c])});var c=function(){};a.removeEventListener?c=function(a,b,c){a.removeEventListener(b,c,!1)}:a.detachEvent&&(c=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var d={bind:b,unbind:c};"function"==typeof define&&define.amd?define("eventie/eventie",d):e.eventie=d}(this),/*!
 * imagesLoaded v3.1.8
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */ function(a,b){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(c,d){return b(a,c,d)}):"object"==typeof exports?module.exports=b(a,require("wolfy87-eventemitter"),require("eventie")):a.imagesLoaded=b(a,a.EventEmitter,a.eventie)}(window,function(e,c,g){var $=e.jQuery,f=e.console,h=void 0!==f;function i(a,b){for(var c in b)a[c]=b[c];return a}var j=Object.prototype.toString;function a(b,c,d){if(!(this instanceof a))return new a(b,c);"string"==typeof b&&(b=document.querySelectorAll(b)),this.elements=function(a){var d,b=[];if(d=a,"[object Array]"===j.call(d))b=a;else if("number"==typeof a.length)for(var c=0,e=a.length;c<e;c++)b.push(a[c]);else b.push(a);return b}(b),this.options=i({},this.options),"function"==typeof c?d=c:i(this.options,c),d&&this.on("always",d),this.getImages(),$&&(this.jqDeferred=new $.Deferred);var e=this;setTimeout(function(){e.check()})}function d(a){this.img=a}a.prototype=new c,a.prototype.options={},a.prototype.getImages=function(){this.images=[];for(var c=0,f=this.elements.length;c<f;c++){var a=this.elements[c];"IMG"===a.nodeName&&this.addImage(a);var b=a.nodeType;if(b&&(1===b||9===b||11===b))for(var e=a.querySelectorAll("img"),d=0,g=e.length;d<g;d++){var h=e[d];this.addImage(h)}}},a.prototype.addImage=function(a){var b=new d(a);this.images.push(b)},a.prototype.check=function(){var e=this,g=0,b=this.images.length;if(this.hasAnyBroken=!1,!b){this.complete();return}function d(a,c){return e.options.debug&&h&&f.log("confirm",a,c),e.progress(a),++g===b&&e.complete(),!0}for(var a=0;a<b;a++){var c=this.images[a];c.on("confirm",d),c.check()}},a.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var b=this;setTimeout(function(){b.emit("progress",b,a),b.jqDeferred&&b.jqDeferred.notify&&b.jqDeferred.notify(b,a)})},a.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var b=this;setTimeout(function(){if(b.emit(a,b),b.emit("always",b),b.jqDeferred){var c=b.hasAnyBroken?"reject":"resolve";b.jqDeferred[c](b)}})},$&&($.fn.imagesLoaded=function(b,c){return new a(this,b,c).jqDeferred.promise($(this))}),d.prototype=new c,d.prototype.check=function(){var a=k[this.img.src]||new b(this.img.src);if(a.isConfirmed){this.confirm(a.isLoaded,"cached was confirmed");return}if(this.img.complete&& void 0!==this.img.naturalWidth){this.confirm(0!==this.img.naturalWidth,"naturalWidth");return}var c=this;a.on("confirm",function(a,b){return c.confirm(a.isLoaded,b),!0}),a.check()},d.prototype.confirm=function(a,b){this.isLoaded=a,this.emit("confirm",this,b)};var k={};function b(a){this.src=a,k[a]=this}return b.prototype=new c,b.prototype.check=function(){if(!this.isChecked){var a=new Image;g.bind(a,"load",this),g.bind(a,"error",this),a.src=this.src,this.isChecked=!0}},b.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},b.prototype.onload=function(a){this.confirm(!0,"onload"),this.unbindProxyEvents(a)},b.prototype.onerror=function(a){this.confirm(!1,"onerror"),this.unbindProxyEvents(a)},b.prototype.confirm=function(a,b){this.isConfirmed=!0,this.isLoaded=a,this.emit("confirm",this,b)},b.prototype.unbindProxyEvents=function(a){g.unbind(a.target,"load",this),g.unbind(a.target,"error",this)},a})